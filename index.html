<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <title>基于 NodeJS 的文件上传和下载</title>
  <base href="/">
  <link rel="stylesheet" type="text/css" href="assets/css/main.css">
  <link rel="stylesheet" type="text/css" href="assets/css/index.css">
  <style>
  .http {
    padding: 100px;
  }

  </style>
</head>

<body>
  <div class="http">
    <form action="/login" method="POST" target="formAction">
      username:
      <input type="text" name="username" id="username"> password:
      <input type="password" name="password" id="password">
      <input type="submit" value="Submit">
    </form>
  </div>
  <iframe src="" name="formAction" frameborder="0"></iframe>
  <!--   <div class="wrapper">
    <div class="header">基于 NodeJS 的文件上传</div>
    <div class="container">
      <div class="main">
        <div class="main-content">
          <form action="/upload" method="POST" enctype="multipart/form-data" class="form-file-upload">
            <label for="file">文件上传：</label>
            <input type="file" name="file" id="file" multiple>
            <input type="submit" value="上传文件">
          </form>
        </div>
      </div>
      <div class="left">
        <ol>
          <li><a href="/">上传页</a></li>
          <li><a href="download">下载页</a></li>
        </ol>
      </div>
      <div class="right">right</div>
    </div>
    <div class="footer">footer</div>
  </div> -->
  <script>
  "use strict";
  var initial_db = function(win, doc, db_name, db_version, cb) {
    if ('indexedDB' in win) {
      var openRequest = indexedDB.open(db_name, db_version);
      var db;

      openRequest.onupgradeneeded = function(e) {
        console.log("Upgrading...");
        return db;
      }

      openRequest.onsuccess = function(e) {
        console.log("Success!");
        db = e.target.result;
        console.log(db);
        return db;
      }

      openRequest.onerror = function(e) {
        console.log("Error");
        console.dir(e);
        return db;
      }
    } else {
      console.log("不支持 indexedDB");
    }
  }
  var db = initial_db(window, document, "xmall", 1);
  var initial_store = function(db, store_name) {
    db.createObjectStore(store_name);
  }
  // initial_store(db, "user");
  </script>
</body>

</html>
